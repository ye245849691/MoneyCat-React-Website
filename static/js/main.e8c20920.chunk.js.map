{"version":3,"sources":["icons sync /.svg$","icons/chart.svg","icons/left.svg","icons/money.svg","icons/right.svg","icons/tag.svg","components/Icon.tsx","components/Nav.tsx","components/Layout.tsx","views/money_components/CategorySection.tsx","views/money_components/NoteSection.tsx","views/money_components/NumberPadSection.tsx","lib/createId.tsx","hooks/useUpdate.tsx","hooks/useTags.tsx","views/money_components/TagsSection.tsx","hooks/useRecords.tsx","views/Money.tsx","views/Statistics_components/TagsPopup.tsx","views/Statistics.tsx","components/GrayBgButton.tsx","components/Center.tsx","components/Space.tsx","views/Tags.tsx","views/NoMatch.tsx","views/Tag.tsx","App.tsx","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","symbol","add","requireContext","require","forEach","error","console","log","Icon","props","name","children","className","rest","classname","xlinkHref","NavWrapper","styled","nav","Nav","to","activeClassName","Wrapper","div","Main","Layout","section","CategorySection","categoryMap","category","value","c","onClick","onChange","key","NoteSection","note","type","placeholder","target","NumberPadSection","useState","toString","output","_setOutput","useEffect","setOutput","newOutput","length","slice","parseFloat","text","textContent","indexOf","onOk","parseInt","window","localStorage","getItem","createId","setItem","JSON","stringify","useUpdate","fn","dep","count","useRef","current","useTags","tags","setTags","localTag","parse","history","useHistory","findTag","filter","tag","updateTag","tagsIds","tagNames","alert","goBack","deleteTag","addTag","tagName","prompt","getNames","ids","join","TagsSection","selectedTags","tagId","t","useRecords","records","setRecords","addRecord","record","amount","newRecord","createAt","Date","toISOString","MyLayout","defaultRecord","tagIds","Money","selected","setSelected","obj","TagsPopup","RecordList","Header","h3","Statistics","setCategory","showAllTags","setShowAllTags","allTagNames","setAllTagNames","hash","r","day","format","push","array","entries","sort","a","b","data","item","index","GrayBgButton","button","Center","Space","TagList","ol","Tags","NoMatch","TopBar","header","TagLabel","Tag","useParams","refInput","defaultValue","onBlur","ref","AppWrapper","App","exact","path","from","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e8c20920.chunk.js","sourcesContent":["var map = {\n\t\"./chart.svg\": 40,\n\t\"./left.svg\": 41,\n\t\"./money.svg\": 42,\n\t\"./right.svg\": 43,\n\t\"./tag.svg\": 44\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 39;","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"chart\",\n  \"use\": \"chart-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"chart\\\"><defs><style></style></defs><path d=\\\"M1024.252 0l-209.92 23.04 69.12 69.12-227.84 278.528-236.544-218.624c-15.872-14.848-40.96-14.848-57.344-.512L14.076 465.408c-17.408 15.872-18.944 43.008-3.072 60.416 8.192 9.216 19.968 13.824 31.744 13.824 10.24 0 20.48-3.584 28.672-10.752l318.464-287.744 241.152 222.72c8.704 8.192 20.48 11.776 31.744 11.264 11.776-1.024 22.528-6.656 30.208-15.36l250.88-306.688 57.344 57.344L1024.252 0zm-890.88 1024h-102.4c-16.896 0-30.72-13.824-30.72-30.72V645.12c0-16.896 13.824-30.72 30.72-30.72h102.4c16.896 0 30.72 13.824 30.72 30.72v348.16c0 16.896-13.824 30.72-30.72 30.72z\\\" /><path d=\\\"M420.092 1024h-102.4c-16.896 0-30.72-13.824-30.72-30.72V440.32c0-16.896 13.824-30.72 30.72-30.72h102.4c16.896 0 30.72 13.824 30.72 30.72v552.96c0 16.896-13.824 30.72-30.72 30.72zm286.72 0h-102.4c-16.896 0-30.72-13.824-30.72-30.72V593.92c0-16.896 13.824-30.72 30.72-30.72h102.4c16.896 0 30.72 13.824 30.72 30.72v399.36c0 16.896-13.824 30.72-30.72 30.72zm286.72 0h-102.4c-16.896 0-30.72-13.824-30.72-30.72V337.92c0-16.896 13.824-30.72 30.72-30.72h102.4c16.896 0 30.72 13.824 30.72 30.72v655.36c0 16.896-13.824 30.72-30.72 30.72z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"left\",\n  \"use\": \"left-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"left\\\"><defs><style></style></defs><path d=\\\"M734.72 800.832L339.776 512 734.72 223.168a8 8 0 003.2-6.4v-79.36a8 8 0 00-12.736-6.4L257.152 473.28a48.192 48.192 0 000 77.44l468.096 342.272a8 8 0 0012.8-6.4v-79.36c0-2.56-1.28-4.928-3.328-6.4z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"money\",\n  \"use\": \"money-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"money\\\"><defs><style></style></defs><path d=\\\"M512 64C264.58 64 64 264.58 64 512s200.58 448 448 448 448-200.57 448-448S759.42 64 512 64zm128 416a32 32 0 010 64h-96v64h96a32 32 0 010 64h-96v64a32 32 0 01-64 0v-64h-96a32 32 0 010-64h96v-64h-96a32 32 0 010-64h78.86L353.61 370.75a32 32 0 0145.25-45.26L512 438.63l113.14-113.14a32 32 0 0145.25 45.26L561.14 480z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"right\",\n  \"use\": \"right-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"right\\\"><defs><style></style></defs><path d=\\\"M289.28 223.168L684.224 512 289.28 800.832a8 8 0 00-3.2 6.4v79.36a8 8 0 0012.736 6.4L766.848 550.72a48.192 48.192 0 000-77.44L298.752 131.008a8 8 0 00-12.8 6.4v79.36c0 2.56 1.28 4.928 3.328 6.4z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"tag\",\n  \"use\": \"tag-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"tag\\\"><defs><style></style></defs><path d=\\\"M376.757 499.177c-66.842-.223-121.19-54.85-120.89-121.512.298-66.601 54.58-120.507 121.223-120.387 67.325.125 121.033 54.391 120.722 121.973-.303 66.067-54.892 120.143-121.055 119.926zm-.02-60.688c33.412.102 60.683-27 60.718-60.328.036-33.022-27.048-60.281-60.03-60.424-33.513-.143-60.703 26.612-61.034 60.053-.323 33.167 26.947 60.592 60.347 60.699zm0 0\\\" /><path d=\\\"M928.818 524.409c-130.044-130.076-260.054-260.184-390.25-390.11-16.504-16.463-32.48-33.326-51.723-47.195-20.04-14.437-40.846-22.82-65.434-22.706-43.687.21-87.372.06-131.058.06 0 .012 0 .03-.006.047-45.561 0-91.132-.399-136.69.109-51.03.568-90.073 40.454-90.134 91.478-.094 90.29-.078 180.586.072 270.88.013 7.04.851 14.2 2.326 21.09 5.334 24.897 20.548 44.631 37.61 61.802 140.086 140.994 280.764 281.403 421.418 421.837 37.091 37.024 98.472 36.777 135.613-.293 89.948-89.77 179.825-179.614 269.462-269.701 7.1-7.128 13.277-15.758 17.81-24.74 18.97-37.561 11.102-82.444-19.016-112.558zm-54.004 87.243c-65.811 65.095-132.3 131.677-196.602 196.065-22.779 22.809-45.558 45.618-68.352 68.41-5.378 5.379-11.362 8.22-17.309 8.22-5.879 0-11.776-2.79-17.054-8.068l-74.784-74.772C388.64 689.455 272.75 573.59 158.96 459.452c-7.272-7.292-13.471-16.957-18.94-25.484-.735-1.148-1.488-3.954-1.495-7.08-.19-79.288-.227-165.335-.114-270.798.01-10.446 6.445-16.458 17.653-16.496 14.644-.052 30.605-.075 50.232-.075 10.843 0 21.688.007 32.533.014 10.85.007 21.7.014 32.545.014h18.806c11.94 0 23.88.01 35.818.019 11.946.009 23.893.02 35.84.02 23.337 0 42.226-.04 59.444-.12h.152c6.568 0 11.927 2.098 19.77 7.744 23.379 16.818 42.937 37.295 63.644 58.974 7.712 8.075 15.687 16.425 23.806 24.485l172.42 172.005c56.885 56.892 115.706 115.719 173.789 173.368 4.49 4.456 7.062 10.942 7.057 17.795-.006 6.86-2.596 13.352-7.105 17.815z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from 'react';\r\nimport classname from 'classnames'\r\n// require('icons/money.svg')\r\n// require('icons/chart.svg')\r\n// require('icons/tag.svg')\r\n//require一整个目录\r\nlet importAll = (requireContext:__WebpackModuleApi.RequireContext)=> requireContext.keys().forEach(requireContext);\r\ntry{\r\n  importAll(require.context('icons',true,/\\.svg$/));\r\n}catch(error){\r\n  console.log(error)\r\n}\r\n\r\n//Props加上SVG标签的其他属性\r\ntype Props={\r\n  name?:string;\r\n} & React.SVGAttributes<SVGElement>\r\n\r\nconst Icon =(props:Props)=>{\r\n  //...rest表示加入svg的其他属性\r\n  const {name,children,className,...rest} = props\r\n  return (\r\n    <svg className={classname(\"icon\",className)} {...rest}>\r\n      {props.name && <use xlinkHref={\"#\"+props.name}/>}\r\n    </svg>\r\n  )\r\n}\r\nexport default Icon;","import styled from 'styled-components';\r\nimport {NavLink} from 'react-router-dom';\r\nimport React from 'react';\r\nimport Icon from './Icon';\r\n\r\n\r\n\r\nconst NavWrapper = styled.nav`\r\n  background-color: white;\r\n  box-shadow: 0 0 3px rgba(0,0,0,0.25);\r\n  line-height: 24px;\r\n  >ul{\r\n    display: flex;\r\n    >li{\r\n      width: 33.3333%;\r\n      text-align: center;\r\n      >a{\r\n        padding: 4px 0;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        align-items: center;\r\n        .icon{\r\n          width: 24px;\r\n          height: 24px;\r\n        }\r\n        &.selected{\r\n          background-color:#D8D8D8;\r\n          color:#0080FF;\r\n          .icon{\r\n            fill: #0080FF;\r\n          }\r\n        }\r\n      }\r\n      \r\n    }\r\n  }\r\n`;\r\nconst Nav = ()=>{\r\n  return (\r\n    <NavWrapper>\r\n      <ul>\r\n        <li>\r\n          <NavLink to=\"/tags\" activeClassName=\"selected\">\r\n            <Icon name = \"tag\"/>\r\n            标签\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink to=\"/money\" activeClassName=\"selected\">\r\n            <Icon name = \"money\"/>\r\n            记账\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink to=\"/statistics\" activeClassName=\"selected\">\r\n            <Icon name = \"chart\"/>\r\n            统计\r\n          </NavLink>\r\n        </li>\r\n      </ul>\r\n    </NavWrapper>\r\n  )\r\n}\r\nexport default Nav;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Nav from './Nav';\r\n\r\nconst Wrapper = styled.div`\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\nconst Main = styled.div`\r\n  flex-grow: 1;\r\n  overflow: auto;\r\n`;\r\n\r\nconst Layout=(props:any)=>{\r\n  return(\r\n    <Wrapper>\r\n      <Main className={props.className}>\r\n        {props.children}\r\n      </Main>\r\n      <Nav />\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport default Layout;","import styled from 'styled-components';\r\nimport React, {FC} from 'react';\r\n\r\nconst Wrapper = styled.section`\r\n  > ul {\r\n    background-color: #c4c4c4;\r\n    font-size: 24px;\r\n    display: flex;\r\n\r\n    > li {\r\n      width: 50%;\r\n      text-align: center;\r\n      position: relative;\r\n      padding: 16px 0;\r\n\r\n      &.selected{\r\n        background-color:#D8D8D8;\r\n        color:#0080FF;\r\n        ::after {\r\n          content: '';\r\n          display: block;\r\n          width: 100%;\r\n          height: 3px;\r\n          background-color: #333;\r\n          position: absolute;\r\n          bottom: 0;\r\n          left: 0;\r\n      }\r\n      }\r\n    }\r\n  }\r\n`;\r\ntype Props={\r\n  value:'-'|'+',\r\n  onChange:(category:'-'|'+')=>void\r\n}\r\nconst CategorySection:FC<Props> = (props)=>{\r\n  const categoryMap = {'-':'支出','+':'收入'}\r\n  const categoryList:('-'|'+')[]= ['-','+'];\r\n  // const [categoryList] = useState<('-'|'+')[]>(['-','+']);\r\n  const category = props.value;\r\n  return(\r\n    <Wrapper>\r\n      <ul>\r\n        {categoryList.map(c=>\r\n          <li className={category !== c ? '':'selected' }\r\n              onClick={()=>{props.onChange(c)}} key={c}\r\n          >\r\n            {categoryMap[c]}\r\n          </li>\r\n        )}\r\n      </ul>\r\n    </Wrapper>\r\n  )\r\n}\r\nexport {CategorySection}","import styled from 'styled-components';\r\nimport React, {FC} from 'react';\r\n\r\nconst Wrapper = styled.section`\r\n  background-color: #f5f5f5;\r\n  padding: 0 16px;\r\n  font-size: 14px;\r\n\r\n  > label {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    > span {\r\n      margin-right: 16px;\r\n      white-space: nowrap;\r\n    }\r\n\r\n    > input {\r\n      display: block;\r\n      border: none;\r\n      background: none;\r\n      width: 100%;\r\n      height: 72px;\r\n    }\r\n  }\r\n\r\n`;\r\ntype Props={\r\n  value:string;\r\n  onChange:(value:string)=>void\r\n}\r\n\r\nconst NoteSection:FC<Props> = (props)=>{\r\n  const note=props.value;\r\n  // const refInput = useRef<HTMLInputElement>(null)\r\n  // const onBlur=()=>{\r\n  //   if(refInput.current!==null){\r\n  //     props.onChange(refInput.current.value);\r\n  //   }\r\n  // }\r\n  return(\r\n    <Wrapper>\r\n      <label>\r\n        <span>备注</span>\r\n        {/*非受控组件：只在事件触发后得到数值*/}\r\n        {/*<input type=\"text\" placeholder=\"在这里添加备注\" defaultValue={note} onBlur={onBlur} ref={refInput}/>*/}\r\n          {/*受控组件：实时监控数值变化*/}\r\n          <input type=\"text\" placeholder=\"在这里添加备注\" value={note} onChange={e=>props.onChange(e.target.value)}/>\r\n      </label>\r\n    </Wrapper>\r\n\r\n  )\r\n}\r\nexport {NoteSection}","import styled from 'styled-components';\r\nimport React, {FC, useEffect, useState} from 'react';\r\n\r\nconst Wrapper = styled.section`\r\n  > .output {\r\n    background-color: white;\r\n    line-height: 72px;\r\n    font-size: 36px;\r\n    text-align: right;\r\n    padding: 0 16px;\r\n    box-shadow: inset 0 -5px 5px -5px rgba(0, 0, 0, 0.25), inset 0 5px 5px -5px rgba(0, 0, 0, 0.25);\r\n  }\r\n\r\n  > .pad {\r\n    > button {\r\n      float: left;\r\n      border: none;\r\n      height: 64px;\r\n      width: 25%;\r\n\r\n      &.ok {\r\n        height: 128px;\r\n        float: right;\r\n      }\r\n\r\n      &.zero {\r\n        width: 50%\r\n      }\r\n\r\n      &:nth-child(1) {\r\n        background-color: #F2F2F2;\r\n      }\r\n\r\n      &:nth-child(2), &:nth-child(5) {\r\n        background-color: #E0E0E0;\r\n      }\r\n\r\n      &:nth-child(3), &:nth-child(6), &:nth-child(9) {\r\n        background-color: #D3D3D3;\r\n      }\r\n\r\n      &:nth-child(4), &:nth-child(7), &:nth-child(10) {\r\n        background-color: #C1C1C1;\r\n      }\r\n\r\n      &:nth-child(8), &:nth-child(11), &:nth-child(13) {\r\n        background-color: #B8B8B8;\r\n      }\r\n\r\n      &:nth-child(12) {\r\n        background-color: #9A9A9A;\r\n      }\r\n\r\n      &:nth-child(14) {\r\n        background-color: #A9A9A9;\r\n      }\r\n    }\r\n    \r\n    @media (max-height: 570px){\r\n      >button{\r\n        height: 40px;\r\n        &.ok{\r\n          height: 80px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\ntype Props = {\r\n  value: number,\r\n  onChange: (mount: number) => void\r\n  onOk?: () => void\r\n}\r\nconst NumberPadSection: FC<Props> = (props) => {\r\n  // const output = props.value.toString()\r\n\r\n  const [output, _setOutput] = useState(props.value.toString());\r\n  useEffect(()=>{\r\n    _setOutput(props.value.toString())\r\n  },[props.value])\r\n  const setOutput = (output: string) => {\r\n    let newOutput;\r\n    if (output.length > 16) {\r\n      newOutput = output.slice(0, 16);\r\n    } else if (output.length === 0) {\r\n      newOutput = '0';\r\n    } else {\r\n      newOutput = output;\r\n    }\r\n    _setOutput(newOutput);\r\n    props.onChange(parseFloat(newOutput));\r\n  };\r\n\r\n  const onClickButtonWrapper = (e: React.MouseEvent) => {\r\n    const text = (e.target as HTMLButtonElement).textContent;\r\n    if (text === null) return;\r\n    switch (text) {\r\n      case '0':\r\n      case '1':\r\n      case '2':\r\n      case '3':\r\n      case '4':\r\n      case '5':\r\n      case '6':\r\n      case '7':\r\n      case '8':\r\n      case '9':\r\n        if (output === '0') {\r\n          setOutput(text);\r\n        } else {\r\n          setOutput(output + text);\r\n        }\r\n        break;\r\n      case '.':\r\n        if (output.indexOf('.') >= 0) {\r\n          break;\r\n        }\r\n        setOutput(output + '.');\r\n        console.log(output + '.');\r\n        break;\r\n      case '删除':\r\n        if (output.length === 1) {\r\n          setOutput('');\r\n        } else {\r\n          setOutput(output.slice(0, -1));\r\n        }\r\n        break;\r\n      case '清空':\r\n        setOutput('');\r\n        break;\r\n      case 'OK':\r\n        if (props.onOk) {props.onOk();}\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n  return (\r\n    <Wrapper>\r\n      <div className=\"output\">{output}</div>\r\n      <div className=\"pad clearfix\" onClick={onClickButtonWrapper}>\r\n        <button>1</button>\r\n        <button>2</button>\r\n        <button>3</button>\r\n        <button>删除</button>\r\n        <button>4</button>\r\n        <button>5</button>\r\n        <button>6</button>\r\n        <button>清空</button>\r\n        <button>7</button>\r\n        <button>8</button>\r\n        <button>9</button>\r\n        <button className=\"ok\">OK</button>\r\n        <button className=\"zero\">0</button>\r\n        <button>.</button>\r\n      </div>\r\n    </Wrapper>\r\n  );\r\n};\r\nexport {NumberPadSection};","let id = parseInt(window.localStorage.getItem('maxId') || '0');\r\nconst createId = ()=>{\r\n  id+=1;\r\n  window.localStorage.setItem('maxId',JSON.stringify(id));\r\n  return id;\r\n}\r\n\r\nexport {createId}","import {useEffect, useRef} from 'react';\r\n\r\n//页面从null到[]会刷新一次，再从[]到[data]还会刷新一次，使用该方法省略前面的一次刷新\r\nconst useUpdate = (fn: () => void, dep: any[]) => {\r\n  const count = useRef(0);\r\n  useEffect(() => {\r\n    count.current += 1;\r\n  });\r\n  useEffect(() => {\r\n    if (count.current > 1) {\r\n      fn();\r\n    }\r\n  }, [fn,dep]);\r\n};\r\n\r\nexport {useUpdate};","import {useEffect, useState} from 'react';\r\nimport {createId} from '../lib/createId';\r\nimport {useHistory} from 'react-router-dom';\r\nimport {useUpdate} from './useUpdate';\r\n\r\n\r\nconst useTags = () => {\r\n  const [tags, setTags] = useState<{ id: number, name: string }[]>([]);\r\n  useEffect(() => {\r\n    let localTag = JSON.parse(window.localStorage.getItem('tags') || '[]');\r\n    if (localTag.length <= 0) {\r\n      localTag = [\r\n        {id: createId(), name: '衣'},\r\n        {id: createId(), name: '食'},\r\n        {id: createId(), name: '住'},\r\n        {id: createId(), name: '行'}\r\n      ];\r\n    }\r\n    setTags(localTag);\r\n  }, []);\r\n  useUpdate(() => {\r\n    window.localStorage.setItem('tags', JSON.stringify(tags));\r\n  }, tags);\r\n  const findTag = (id: number) => tags.filter(tag => tag.id === id)[0];\r\n  const addTag = () => {\r\n    const tagName = window.prompt('请输入新的标签名');\r\n    const tagNames = tags.map(tag => tag.name);\r\n    if(tagName === null){\r\n      return;\r\n    }else if (tagName === '' ) {\r\n      window.alert('标签名不能为空');\r\n      return;\r\n    } else if (tagNames.indexOf(tagName) >= 0) {\r\n      window.alert('该标签名已存在');\r\n      return;\r\n    } else {\r\n      setTags([...tags, {id: createId(), name: tagName}]);\r\n    }\r\n\r\n  };\r\n  const history = useHistory();\r\n  const updateTag = (id: number, name: string) => {\r\n    const tagsIds = tags.map(tag=>tag.id)\r\n    const tagNames = tags.map(tag => tag.name);\r\n    if (tagNames.indexOf(name) >= 0 && tagNames.indexOf(name) !== tagsIds.indexOf(id)) {\r\n        window.alert('该标签名已存在,请重新输入');\r\n        history.goBack();\r\n        return;\r\n      }\r\n    setTags(tags.map(tag => {\r\n      if (tag.id === id) {\r\n        return {id, name};\r\n      } else {\r\n        return tag;\r\n      }\r\n    }));\r\n  };\r\n\r\n  const deleteTag = (id: number) => {\r\n    setTags(tags.filter(tag => tag.id !== id));\r\n    window.alert('删除成功！');\r\n    history.goBack();\r\n\r\n  };\r\n  const getNames = (ids:number[])=>{\r\n    return tags.filter(tag=>ids.indexOf(tag.id)>=0).map(tag=>tag.name).join('，');\r\n  }\r\n  return {tags, setTags, findTag, updateTag, deleteTag, addTag,getNames};\r\n};\r\n\r\nexport {useTags};","import styled from 'styled-components';\nimport React, {FC} from 'react';\nimport {useTags} from 'hooks/useTags';\n\nconst Wrapper = styled.section`\n  background-color: #FFFFFF;\n  padding: 12px 16px;\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  align-items: flex-start;\n  flex-shrink: 1;\n  overflow: auto;\n  >div{\n    flex-shrink: 1;\n    overflow: auto;\n    overflow-x: hidden;\n    > ol {\n      margin: 0 -12px;\n      > li {\n        display: inline-block;\n        border-radius: 18px;\n        background-color: #D9D9D9;\n        padding: 3px 18px;\n        margin: 8px 12px;\n        font-size: 14px;\n        &.selected{\n          color: orange;\n        }\n      }\n    }\n  }\n  \n\n  > button {\n    background: none;\n    border: none;\n    border-bottom: 1px #333 solid;\n    padding: 2px 4px;\n    margin-top: 3px;\n    color: #666;\n  }\n`;\n\ntype Props={\n  value:number[],\n  onChange:(selected:number[])=>void\n}\nconst TagsSection:FC<Props> = (props)=>{\n  const {tags,addTag} = useTags();\n  const selectedTags=props.value;\n  const onToggleTag=(tagId:number)=>{\n    const index = selectedTags.indexOf(tagId);\n    if(index>=0){\n      props.onChange(selectedTags.filter(t=>t!==tagId))\n    }else{\n      props.onChange([...selectedTags,tagId])\n    }\n  }\n  return(\n    <Wrapper>\n\n      <div>\n      <ol>\n        {tags.map(tag=><li key={tag.id} onClick={()=>onToggleTag(tag.id)}\n          className={selectedTags.indexOf(tag.id)>=0?'selected':''}\n        >{tag.name}</li>)}\n      </ol>\n      </div>\n      <button onClick={addTag}>新增标签</button>\n    </Wrapper>\n  )\n}\nexport {TagsSection}","import {useEffect, useState} from 'react';\r\nimport {useUpdate} from './useUpdate';\r\n\r\nexport type recordItem = {\r\n  tagIds: number[]\r\n  note: string\r\n  category: '-' | '+',\r\n  amount: number\r\n  createAt: string;\r\n}\r\n//省略createAt\r\ntype newRecordItem = Omit<recordItem, 'createAt'>\r\n\r\n\r\n\r\nconst useRecords = () => {\r\n  const [records, setRecords] = useState<recordItem[]>([]);\r\n  useEffect(()=>{\r\n    setRecords(JSON.parse(window.localStorage.getItem('records')||'[]'));\r\n  },[])\r\n  useUpdate(()=>{\r\n    window.localStorage.setItem('records',JSON.stringify(records))\r\n  },records)\r\n  const addRecord=(record:newRecordItem)=>{\r\n    if(record.amount<=0){\r\n      alert('请输入金额')\r\n      return false;\r\n    }else{\r\n      const newRecord = {...record,createAt: (new Date()).toISOString()}\r\n      setRecords([...records,newRecord])\r\n      return true;\r\n    }\r\n\r\n  }\r\n  return {records, setRecords,addRecord}\r\n};\r\n\r\nexport {useRecords};","import Layout from '../components/Layout';\r\nimport React, {useState} from 'react';\r\nimport styled from 'styled-components';\r\nimport {CategorySection} from './money_components/CategorySection';\r\nimport {NoteSection} from './money_components/NoteSection';\r\nimport {NumberPadSection} from './money_components/NumberPadSection';\r\nimport {TagsSection} from './money_components/TagsSection';\r\nimport {useRecords} from '../hooks/useRecords';\r\n\r\n\r\n\r\nconst MyLayout = styled(Layout)`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\nconst defaultRecord={\r\n  tagIds:[] as number[],\r\n  note:'',\r\n  category:'-' as '-'|'+',\r\n  amount:0\r\n};\r\n\r\nconst Money = () => {\r\n  const [selected,setSelected]=useState(defaultRecord);\r\n  const {addRecord} = useRecords();\r\n  const submit=()=>{\r\n   if(addRecord(selected)){\r\n     alert('账单添加成功！')\r\n     setSelected(defaultRecord);\r\n   }\r\n  }\r\n  //typeof selected获取selected的类型，\r\n  //Partial表示obj是selected对象类型的一部分\r\n  const onChange=(obj:Partial<typeof selected>)=>{\r\n    setSelected({\r\n      ...selected,\r\n      ...obj\r\n    })\r\n  }\r\n  return (\r\n    <MyLayout>\r\n      <TagsSection value={selected.tagIds} onChange={(tagIds)=>onChange({tagIds})}/>\r\n      <NoteSection value={selected.note} onChange={(note)=>onChange({note})}/>\r\n      <CategorySection value={selected.category} onChange={(category)=>onChange({category})}/>\r\n      <NumberPadSection value={selected.amount} onChange={(amount)=>onChange({amount})} onOk={submit}/>\r\n    </MyLayout>\r\n  );\r\n};\r\nexport default Money;","import React, {FC} from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Wrapper = styled.div`\r\n    position: fixed;\r\n    border-radius: 12px;\r\n    background-color: #fff;\r\n    top: 25%;\r\n    left: 7.2%;\r\n    width: 85.6%;\r\n    height: 170px;\r\n    z-index: 999;\r\n\r\n    > .logo {\r\n      display: block;\r\n      background: #0080FF;\r\n      color: white;\r\n      font-size: 16px;\r\n      font-weight: 700;\r\n      text-align: center;\r\n      padding: 2.7% 0;\r\n      margin: 0 auto;\r\n\r\n    }\r\n\r\n    > .allTags {\r\n      font-size: 24px;\r\n      margin-top: 8%;\r\n      width: 76%;\r\n      margin-left: 12%;\r\n      text-align: center\r\n    }\r\n\r\n    > .but {\r\n      margin-top: 10%;\r\n\r\n      > .close {\r\n        text-align: center;\r\n        background: #ff7c50;\r\n        display: block;\r\n        width: 30.4%;\r\n        margin: 0 auto;\r\n        font-size: 16px;\r\n        color: #fff;\r\n        font-weight: 700;\r\n        height: 36px;\r\n        border-radius: 12px;\r\n        line-height: 36px;\r\n      }\r\n\r\n    }\r\n`;\r\n\r\ntype Props = {\r\n  value: string\r\n  onChange: () => void\r\n}\r\n\r\nconst TagsPopup: FC<Props> = (props) => {\r\n\r\n  return (\r\n    <Wrapper>\r\n      <div className=\"logo\">标签</div>\r\n      <div className=\"allTags\">{props.value?props.value:<span>无标签</span>}</div>\r\n      <div className=\"but\"><span className=\"close\" onClick={props.onChange}>关闭</span></div>\r\n    </Wrapper>\r\n  );\r\n};\r\nexport {TagsPopup};","import Layout from '../components/Layout';\r\nimport React, {useState} from 'react';\r\nimport {CategorySection} from './money_components/CategorySection';\r\nimport styled from 'styled-components';\r\nimport {recordItem, useRecords} from '../hooks/useRecords';\r\nimport {useTags} from '../hooks/useTags';\r\nimport {TagsPopup} from './Statistics_components/TagsPopup';\r\nimport day from 'dayjs';\r\n\r\nconst RecordList = styled.div`\r\n  background: white;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  font-size: 18px;\r\n  line-height: 20px;\r\n  padding: 10px 16px;\r\n  font-family: inherit;\r\n\r\n  > .name {\r\n    \r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    width: 15%;\r\n  }\r\n\r\n  > .note {\r\n    margin-right: auto;\r\n    padding-left: 8px;\r\n    color: #999;\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    width: 65%\r\n  }\r\n\r\n  > .amount {\r\n    width: 20%;\r\n    display: flex;\r\n    justify-content: flex-start;\r\n  }\r\n\r\n`;\r\nconst Header = styled.h3`\r\n  font-size: 18px;\r\n  line-height: 20px;\r\n  padding: 10px 16px;\r\n`;\r\n\r\nconst Statistics = () => {\r\n  const [category, setCategory] = useState<'-' | '+'>('-');\r\n  const {records} = useRecords();\r\n  const {getNames} = useTags();\r\n  const [showAllTags, setShowAllTags] = useState<boolean>(false);\r\n  const [allTagNames, setAllTagNames] = useState<string>('');\r\n  const closeTags = () => {\r\n    setShowAllTags(false);\r\n  };\r\n  const showTags = (ids: number[]) => {\r\n    setAllTagNames(getNames(ids));\r\n    setShowAllTags(true);\r\n  };\r\n  const hash:{[k:string]:recordItem[]}={};\r\n  const selectedRecords = records.filter(r => r.category === category);\r\n  selectedRecords.forEach(r=>{\r\n    const key = day(r.createAt).format('YYYY年MM月DD日');\r\n    if(!(key in hash)){\r\n      hash[key]=[];\r\n    }\r\n    hash[key].push(r);\r\n  });\r\n  const array = Object.entries(hash).sort((a,b)=>{\r\n    if(a[0]===b[0]) return 0;\r\n    if(a[0]>b[0]) return -1;\r\n    if(a[0]<b[0]) return 1;\r\n    return 0;\r\n  })\r\n  return (\r\n    <Layout>\r\n      <CategorySection value={category} onChange={(category) => setCategory(category)}/>\r\n      {\r\n        array.map(([data,records])=>\r\n        <div>\r\n          <Header>{data}</Header>\r\n          <div>\r\n            {records.map((item, index) => {\r\n              return (<RecordList key={index}>\r\n                <div className=\"name\" onClick={() => showTags(item.tagIds)}>{\r\n                  item.tagIds.length > 0 ?\r\n                    getNames(item.tagIds) :\r\n                    <span>无标签</span>}\r\n                </div>\r\n                {item.note && <div className=\"note\"> {item.note}</div>}\r\n                <div className=\"amount\"><span className=\"rmb\">￥</span><span className=\"rmbValue\">{item.amount}</span></div>\r\n                {showAllTags &&\r\n                <TagsPopup value={allTagNames} onChange={() => closeTags()}/>\r\n                }\r\n              </RecordList>);\r\n            })}\r\n          </div>\r\n        </div>\r\n        )\r\n      }\r\n\r\n\r\n\r\n    </Layout>\r\n  );\r\n};\r\nexport default Statistics;","import styled from 'styled-components';\r\n\r\nconst GrayBgButton = styled.button`\r\n  border: none;\r\n  background-color: #767676;\r\n  color: white;\r\n  padding: 8px 12px;\r\n  border-radius: 4px;\r\n`;\r\n\r\nexport {GrayBgButton}","import styled from 'styled-components';\r\n\r\nconst Center = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport {Center}","import styled from 'styled-components';\r\n\r\nconst Space = styled.div`\r\n  height: 16px;\r\n`;\r\n\r\nexport {Space}","import Layout from '../components/Layout';\r\nimport React from 'react';\r\nimport {useTags} from '../hooks/useTags';\r\nimport styled from 'styled-components';\r\nimport Icon from '../components/Icon';\r\nimport {Link} from 'react-router-dom';\r\nimport {GrayBgButton} from '../components/GrayBgButton';\r\nimport {Center} from '../components/Center';\r\nimport {Space} from '../components/Space';\r\n\r\nconst TagList = styled.ol`\r\n  font-size: 16px;\r\n  background-color: white;\r\n\r\n  > li {\r\n    border-bottom: 1px solid #d5d5d9;\r\n    line-height: 20px;\r\n    margin-left: 16px;\r\n\r\n    > a {\r\n      padding: 12px 16px 12px 0;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n    }\r\n\r\n  }\r\n`;\r\n\r\n\r\n\r\n\r\n\r\nconst Tags = () => {\r\n  const {tags,addTag} = useTags();\r\n  return (\r\n    <Layout>\r\n      <TagList>\r\n        {tags.map(tag =>\r\n          <li key={tag.id}>\r\n            <Link to={'/tags/' + tag.id}>\r\n              <span className=\"oneLine\">{tag.name}</span>\r\n              <Icon name=\"right\"/>\r\n            </Link>\r\n          </li>\r\n        )}\r\n      </TagList>\r\n      <Space/>\r\n      <Space/>\r\n      <Center>\r\n        <GrayBgButton onClick={addTag}>\r\n          添加标签\r\n        </GrayBgButton>\r\n      </Center>\r\n      <Space/>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Tags;","import React from 'react';\r\n\r\nconst NoMatch=()=> {\r\n  return (\r\n    <div>\r\n      <h3>\r\n        页面不存在\r\n      </h3>\r\n    </div>\r\n  );\r\n}\r\nexport default NoMatch;","import React, {FC, useRef} from 'react';\r\nimport {useParams,useHistory} from 'react-router-dom';\r\nimport {useTags} from '../hooks/useTags';\r\nimport Layout from '../components/Layout';\r\nimport Icon from '../components/Icon';\r\nimport {GrayBgButton} from '../components/GrayBgButton';\r\nimport styled from 'styled-components';\r\nimport {Center} from '../components/Center';\r\nimport {Space} from '../components/Space';\r\n\r\nconst TopBar = styled.header`\r\n  background-color: white;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 8px 12px;\r\n\r\n  > .icon {\r\n    width: 24px;\r\n    height: 24px;\r\n  }\r\n`;\r\nconst TagLabel = styled.div`\r\n  background-color: white;\r\n  margin: 8px 0;\r\n  padding: 12px 8px;\r\n\r\n  > label {\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    > span {\r\n      padding: 0 8px;\r\n    }\r\n\r\n    > input {\r\n      border: none;\r\n      font-size: 16px;\r\n    }\r\n  }\r\n`;\r\n\r\n\r\ntype Param = {\r\n  id: string;\r\n}\r\n\r\nconst Tag: FC = () => {\r\n  const {findTag, updateTag, deleteTag} = useTags();\r\n  const {id} = useParams<Param>();\r\n  const tag = findTag(parseInt(id));\r\n  const history = useHistory();\r\n  const onClickBack=()=>{\r\n    history.goBack();\r\n  }\r\n  const refInput = useRef<HTMLInputElement>(null)\r\n  const onBlur=(value:string)=>{\r\n    if(refInput.current!==null){\r\n      updateTag(tag.id, value)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Layout>\r\n      <TopBar>\r\n        <Icon onClick={onClickBack} name=\"left\"/>\r\n        <span>编辑标签</span>\r\n        <Icon/>\r\n      </TopBar>\r\n      {\r\n        tag ?\r\n          (\r\n            <div>\r\n              <TagLabel>\r\n                <label>\r\n                  <span>标签名</span>\r\n                  <input type=\"text\" defaultValue={tag.name} onBlur={(e)=>onBlur(e.target.value)} ref={refInput}/>\r\n\r\n                  {/*<input type=\"text\" value={tag.name} onChange={(e) => updateTag(tag.id, e.target.value)}/>*/}\r\n                </label>\r\n              </TagLabel>\r\n              <Space/>\r\n              <Center>\r\n                <GrayBgButton onClick={() => deleteTag(tag.id)}>删除标签</GrayBgButton>\r\n              </Center>\r\n              <Space/>\r\n            </div>\r\n\r\n\r\n          )\r\n          : (\r\n            <Center>\r\n              不存在\r\n            </Center>)\r\n      }\r\n\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport {Tag};","import React from 'react';\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  Redirect\n} from 'react-router-dom';\nimport Money from 'views/Money';\nimport Statistics from 'views/Statistics';\nimport Tags from 'views/Tags';\nimport NoMatch from 'views/NoMatch';\nimport styled from 'styled-components';\nimport {Tag} from 'views/Tag';\n\nconst AppWrapper = styled.div`\n  color: #333;\n  max-width: 500px;\n  margin: 0 auto;\n  box-shadow: 0 0 10px rgba(0,0,0,0.25);\n`;\n\n\nfunction App() {\n  return (\n    <AppWrapper>\n      <Router>\n        <Switch>\n          {/*exact 是否精准匹配*/}\n          <Route exact path=\"/tags\">\n            <Tags/>\n          </Route>\n          <Route exact path=\"/tags/:id\">\n            <Tag />\n          </Route>\n          <Route exact path=\"/money\">\n            <Money/>\n          </Route>\n          <Route exact path=\"/statistics\">\n            <Statistics/>\n          </Route>\n          <Redirect exact from=\"/\" to=\"/money\"/>\n          <Route path=\"*\">\n            <NoMatch/>\n          </Route>\n        </Switch>\n      </Router>\n    </AppWrapper>\n  );\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.scss'\n\nReactDOM.render(<App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}